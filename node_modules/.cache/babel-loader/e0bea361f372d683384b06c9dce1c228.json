{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dione\\\\Documents\\\\Desenvolvimento de Sistemas\\\\ecommerce-app\\\\src\\\\views\\\\cadastroUsuario.js\";\nimport React from \"react\";\nimport Card from \"../components/card\";\nimport FormGroup from \"../components/form-group\";\nimport UsuarioService from \"../app/service/usuarioService\";\nimport { mensagemSucesso, mensagemError } from \"../components/toastr\";\nclass CadastroUsuario extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      nome: '',\n      email: '',\n      senha: '',\n      senharepita: '',\n      itens: [1, 2, 3]\n    };\n    this.salvar = () => {\n      const msgsError = this.validar();\n      if (msgsError && msgsError.length > 0) {\n        msgsError.forEach((msg, i) => {\n          mensagemError(msg);\n        });\n      } else {\n        const usuario = {\n          nome: this.state.nome,\n          email: this.state.email,\n          senha: this.state.senha\n        };\n        this.service.salvar(usuario).then(response => {\n          mensagemSucesso('Usuario Cadastrado com Sucesso.');\n          this.props.history.push('/login');\n        }).catch(error => {\n          mensagemError(error.response.data.message);\n        });\n      }\n    };\n    this.cancelar = () => {\n      this.props.history.push('/login');\n    };\n    this.service = new UsuarioService();\n  }\n  validar() {\n    const msgs = [];\n    if (!this.state.nome) {\n      msgs.push('O campo nome e obrigatorio');\n    }\n    if (!this.state.email) {\n      msgs.push('O campo email e obrigatorio');\n    } else if (!this.state.email.match(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/)) {\n      msgs.push('Informe um email valido');\n    }\n    if (!this.state.senha || !this.state.senharepita) {\n      msgs.push('Os campos Senha e repita senha sao obrigatorios');\n    } else if (this.state.senha !== this.state.senharepita) {\n      msgs.push('As senhas nao conferem');\n    }\n    return msgs;\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      title: \"Itens\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, this.state.itens.map(e => {\n      /*#__PURE__*/React.createElement(\"button\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }\n      }, e);\n    })));\n  }\n}\nexport default CadastroUsuario;","map":{"version":3,"names":["React","Card","FormGroup","UsuarioService","mensagemSucesso","mensagemError","CadastroUsuario","Component","constructor","state","nome","email","senha","senharepita","itens","salvar","msgsError","validar","length","forEach","msg","i","usuario","service","then","response","props","history","push","catch","error","data","message","cancelar","msgs","match","render","map","e"],"sources":["C:/Users/dione/Documents/Desenvolvimento de Sistemas/ecommerce-app/src/views/cadastroUsuario.js"],"sourcesContent":["import React from \"react\";\r\nimport Card from \"../components/card\";\r\nimport FormGroup from \"../components/form-group\";\r\nimport UsuarioService from \"../app/service/usuarioService\";\r\nimport { mensagemSucesso, mensagemError } from \"../components/toastr\";\r\n\r\nclass CadastroUsuario extends React.Component {\r\n\r\n    state = {\r\n        nome: '',\r\n        email: '',\r\n        senha: '',\r\n        senharepita: '',\r\n        itens: [\r\n            1,\r\n            2,\r\n            3\r\n        ]\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.service = new UsuarioService();\r\n    }\r\n\r\n    salvar = () => {\r\n        const msgsError = this.validar();\r\n\r\n        if (msgsError && msgsError.length > 0) {\r\n            msgsError.forEach((msg, i ) => {\r\n                mensagemError(msg);\r\n            })\r\n        } else {\r\n            const usuario = {\r\n                nome: this.state.nome,\r\n                email: this.state.email,\r\n                senha: this.state.senha\r\n            }\r\n\r\n            this.service.salvar(usuario)\r\n                .then(response => {\r\n                    mensagemSucesso('Usuario Cadastrado com Sucesso.');\r\n                    this.props.history.push('/login');\r\n                })\r\n                .catch(error => {\r\n                    mensagemError(error.response.data.message);\r\n                });\r\n        }\r\n    }\r\n\r\n    validar() {\r\n        const msgs = [];\r\n\r\n        if (!this.state.nome) {\r\n            msgs.push('O campo nome e obrigatorio');\r\n        }\r\n        if (!this.state.email) {\r\n            msgs.push('O campo email e obrigatorio');\r\n        } else if (!this.state.email.match(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$/)) {\r\n            msgs.push('Informe um email valido');\r\n        }\r\n        if (!this.state.senha || !this.state.senharepita) {\r\n            msgs.push('Os campos Senha e repita senha sao obrigatorios')\r\n        } else if (this.state.senha !== this.state.senharepita) {\r\n            msgs.push('As senhas nao conferem');\r\n        }\r\n\r\n        return msgs;\r\n    }\r\n\r\n    cancelar = () => {\r\n        this.props.history.push('/login');\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <Card title=\"Itens\">\r\n                    {\r\n                        this.state.itens.map( (e) => {\r\n                            <button>{e}</button>\r\n                        })\r\n                    }\r\n                </Card>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default CadastroUsuario;"],"mappings":"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"},"metadata":{},"sourceType":"module"}